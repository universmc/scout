const fs = require("fs");
const Groq = require("groq-sdk");
const groq = new Groq();

const affaire910 = require("./grief/*")
const constitution68 = `grief/Affaire_910-ref-lÃ©gal_dalloz.json`

async function main() {

    const affaireEscrow = affaire910
    const Accuse910 = constitution68
    const CadreProc = borderCharsPV

    const chatCompletion = await groq.chat.completions.create({

    "messages": [
      {role: "system",name:"[ğŸ“”.codex]", content:"phase[01]:[RUN]:[brainstorming(session.timestamp)]"},
      {role: "system", content: "Dossier de mise en Ã©tat Ã  joindre au grief `{./grief/*}`" },
      {role: "system",name:"procureurRÃ©publique", content:`groq -l ${affaireEscrow}`},
      {role: "system",name:"procureurRÃ©publique", content: `groq -l ${Accuse910}`},
      {role: "system",name:"procureurRÃ©publique", content: `groq -l ${CadreProc}`},
      {role: "system",name:"[ğŸ“”.codex]", content:"Ressource et recourt actircle 41-1-1 code de procÃ©dure pÃ©nal Ã  la commission nationale des comptes de campagne et de la fraude politique:{'https://www.cnccfp.fr/partis-politiques/','https://www.legifrance.gouv.fr/','https://budget.gouv.fr/, pour la composition pÃ©nal (313) })]"},
      {role: "system",name:"[ğŸ“”.codex]", content:"phase[02]:[RUN]:[Commission"},
      {role: "system", content:"Magistrat, Mandataire(1113)prÃ©sent"},
      {role: "assistant",name:"Mandataire", content:"groq -L, traduit et develleppe le document en FRANÃ§ais lang=Fr. "},
      {role: "system",name:"proc", content:`groq -l ${affaireEscrow}`},
      {role: "assistant",name:"Magistrat", content:"Les membres du parti politique lancent une commission d'enquÃªte sur une affaire d'escroquerie Ã  finance grande Ã©chelle, corruption de la justice et violations de procÃ©dures comptables. Ils rassemblent les preuves nÃ©cessaires, notamment des PV, des vidÃ©os de rÃ©pression lors des manifestations et des tÃ©moignages de victimes. Les membres du parti mettent en lumiÃ¨re les manipulations politiques, les abus de pouvoir et les violations du consentement dÃ©mocratique."},
      {role: "assistant",name:"Magistrat", content:"rÃ©dige-moi un bilan dÃ©taillÃ© sur chaque fichier de ce dossier /grief/"},
      //   {role: "user",name:"temoin", content:"Bonjour. Je me prÃ©sente rapidement. Fabien Grimaud, 42 ans couvreurs, pÃ¨re, beau-pÃ¨re et Â« beau grand pÃ¨re Â». Jâ€™ai avec quelques collÃ¨gues couvreurs lancÃ© un appel Ã  la mobilisation de BTP en ce dÃ©but dâ€™annÃ©e. Car nous, ouvriers et artisans du BTP sommes les grands oubliÃ©s de cette rÃ©forme dites Â« Ã©galitaire et universelle Â». Il y a 2 ans lâ€™Ã©tat a dÃ©cidÃ© de nous sortir de tous les critÃ¨res de pÃ©nibilitÃ© pour le calcul de la retraite, estimant quâ€™il Ã©tait normal que nous, bÃ¢tisseurs, Ã©tant tellement chanceux dâ€™avoir une espÃ©rance de vie amoindrie dâ€™au moins 7 ans par rapport au reste de la population, que nous mÃ©ritions ce privilÃ¨ge dâ€™avoir lâ€™honneur de crever au travail. 64 ans sur un toit, quel privilÃ¨ge !!! Pour notre premiÃ¨re Â« vraie Â» sortie dans la rue, nous avions dÃ©cidÃ© comme vous avez pu le voir dans certains mÃ©dias, de dÃ©filer en tÃªte de cortÃ¨ge ce samedi 18/01/20 Ã  Paris. La manifestation Ã©tait dÃ©clarÃ©e et le parcours bien dÃ©fini. Or, un peu avant 15 heure, lâ€™ordre a Ã©tÃ© donnÃ© aux force de lâ€™ordre (que je nâ€™avais jamais vu dans telles proportions) de nous bloquer juste aprÃ¨s le passage de la gare de lâ€™est, engendrant des mouvements de foule incontrÃ´lÃ©s et du coup une rÃ©pression de ceux-ci. Des gaz, commencent Ã  pleuvoir, des grenades de dispersion commencent Ã  pÃ©ter. Et lÃ , des forces de lâ€™ordre surgissent en tous sens la matraque en lâ€™air et commence Ã  taper sur tout ce qui bouge. Nous remontons quelques mÃ¨tres mais sommes bloquÃ©s par une foule compacte, je me retrouve Ã  lâ€™arriÃ¨re. Sur ma gauche, la foule impÃ©nÃ©trable, sur ma droite des gens se font matraquer au sol par des gens haineux en uniforme, jâ€™ai les bras en lâ€™air afin de signifier que je ne reprÃ©sente pas une menace. Je me retourne pour voir si le danger pour moi sâ€™approche ou reste Ã  distance (toujours bras en lâ€™air et en tenu de travail). Une explosion Ã©norme survient un mÃ¨tre devant moi, je nâ€™ai le temps de rien rÃ©aliser, je suis Ã  terre. Je sais que je suis touchÃ© au visage. Quelques secondes se passent, milles questions fusent dans ma tÃªte. Que sâ€™est-il passÃ© ? Pourquoi ? Pourquoi moi, pacifiste depuis toujours? Je passe ma main sur mon visage, je nâ€™ai plus de lunettes, je suis en sang, je me cache lâ€™Å“il du cÃ´tÃ© qui nâ€™a pas Ã©tÃ© touchÃ©, visiblement, lâ€™autre fonctionne encore Ã  peu prÃ¨s. Je me relÃ¨ve aidÃ© de plusieurs manifestants qui mâ€™aident Ã  trouver des street mÃ©dics (je remercie dâ€™ailleurs tous ces gens au dÃ©vouement sans faille qui pallient aux nombreuses fautes et dÃ©faillances de lâ€™Ã©tat dans sa gestion des manifestations depuis 14 mois maintenant). On mâ€™emmÃ¨ne un peu Ã  lâ€™Ã©cart, les mÃ©dics mâ€™administrent les premiers soins et font en sorte quâ€™un ami vienne me chercher afin de me conduire Ã  lâ€™hÃ´pital LariboisiÃ¨re qui se trouve non loin. Les soignants des urgences et du service ORL qui mâ€™ont recousu la pommette ont Ã©tÃ© trÃ¨s professionnels et compatissants, faisant mÃªme un peu Â« dâ€™humour Â» en me disant que jâ€™avais eu Ã©normÃ©ment de chance et que jâ€™Ã©tais Ã  deux doigts dâ€™avoir fait une Â« Rodrigues Â» (les exactions policiÃ¨res portent un nom maintenantâ€¦) Je les remercie aussi du fond du cÅ“ur pour leur HumanitÃ© malgrÃ© les conditions dans lesquelles ils bossent (jâ€™ai pu constater de trÃ¨s prÃ¨s les manques de moyens, tant humains que matÃ©riels). Je suis sorti de lâ€™hÃ´pital et suis rentrÃ© chez moi avec mon camarade qui a dÃ» conduire seul, puisque je nâ€™ai plus de lunettes, sur la route du retour en VendÃ©e dâ€™oÃ¹ je suis originaire. Aujourdâ€™hui, jâ€™en appelle au peuple franÃ§ais. Celui qui rÃ¢le dans son canapÃ© sur toutes les mesures iniques et liberticides que nous concocte ce Â« gouvernement Â», mais ne sort pas le signifier publiquement dans la rue. Cette tranche de la population qui est majoritaire, au moins vis-Ã -vis de cette rÃ©forme (dans la forme qui nous a Ã©tÃ© prÃ©sentÃ©e). Il suffirait dâ€™une fois !!! Un jour oÃ¹ nous sortirions tous dans la rue afin de signifier au prÃ©sident des banquiers que ces mesures, nous nâ€™en voulons pas. Du moins, tant quâ€™il nâ€™aura pas lÃ©gifÃ©rer pour enrayer la trÃ¨s mauvaise rÃ©partition des richesses dans notre pays. Il nâ€™est plus acceptable de voir les milliards dâ€™euros gÃ©nÃ©rÃ©s par les Â« petits Â» atterrir dans les poches des rentiers, du moins dans ces proportions. Je souhaite aussi avertir le Â« prÃ©sident Â» une nouvelle fois (je lâ€™ai dÃ©jÃ  prÃ©venu lâ€™an passÃ© par courrier), les ministres, le parlement et les forces de lâ€™ordre qui dÃ©fendent tout ce Â« beau monde Â», que par leurs actions ils fabriquent des sÃ©ditieux chaque jour. Et que comme ils le redoutent, une radicalisation des gens soucieux dâ€™une sociÃ©tÃ© plus juste est en marche, et que Ã§a risque de leur faire tout Â« drÃ´le Â» quand Ã§a va pÃ©ter. Ceci nâ€™est en rien une menace, mais une rÃ©alitÃ© qui va Ã©clater prochainement si un vrai virage social nâ€™est pas opÃ©rÃ© rapidement par nos Â« dirigeants Â». Nous arrivons Ã  la fin dâ€™un systÃ¨me inique"},
      {role: "user",name:"temoin", content:"Le cortÃ¨ge, rassemblant environ 5000 personnes, a eu lieu pour protester contre la Loi de SÃ©curitÃ© Globale visant Ã  accroÃ®tre l'impunitÃ© policiÃ¨re, dans le cadre de la politique sÃ©curitaire du gouvernement. Valentin Leroux, journaliste, a tweetÃ© pour dÃ©noncer la violence policiÃ¨re envers les manifestants, y compris des enfants et des personnes vulnÃ©rables. Ã€ la fin de la manifestation, qui s'est dÃ©roulÃ©e dans un climat calme, le cortÃ¨ge a changÃ© de direction. Qu'il s'agisse d'un acte dÃ©libÃ©rÃ© ou non, de nombreuses personnes ont suivi le cortÃ¨ge sans se rendre compte qu'ils s'Ã©loignaient de la route prÃ©vue. Les organisateurs n'ont pas rÃ©ussi Ã  rediriger les manifestants, qui se sont retrouvÃ©s dans une rue commerÃ§ante Ã©troite du centre-ville. La police a alors lancÃ© des gaz lacrymogÃ¨nes, bloquant tout le cortÃ¨ge dans la rue. Une fois de plus, la police a choisi la violence envers une foule pacifique, comprenant des enfants et des personnes vulnÃ©rables. Valentin Le Roux a rapportÃ© qu'un enfant de 4 ans Ã©tait prÃ©sent, dans un Ã©tat de panique, et que des femmes Ã¢gÃ©es pleuraient"},
      {role: "assistant",name:"Mandataire", content:` c'est trÃ¨s bien monsieur le juge nous avons entendu 2 tÃ©moin {role:user,name:temoinS,content:'promptVictime'}`},
      {role: "assistant",name:"Magistrat", content:"je note donc la prÃ©sence de preuves et de tÃ©moins au dossier.([TemoinA]:{Un membre du cortÃ¨ge qui a assistÃ© Ã  la manifestation et a Ã©tÃ© exposÃ© aux gaz lacrymogÃ¨nes. Il a affirmÃ© que la police n'a donnÃ© aucun avertissement avant d'utiliser les gaz lacrymogÃ¨nes, et que des personnes vulnÃ©rables Ã©taient prÃ©sentes dans la foule} et le [temoinB]:{Un membre du cortÃ¨ge qui a assistÃ© Ã  la manifestation et a Ã©tÃ© exposÃ© aux gaz lacrymogÃ¨nes. Il a affirmÃ© que la police n'a donnÃ© aucun avertissement avant d'utiliser les gaz lacrymogÃ¨nes, et que des personnes vulnÃ©rables Ã©taient prÃ©sentes dans la foule})"},
  //  {role: "user",name:"[ğŸŒ´.Groq]", content: BorderChars },
  //  {role: "user",name:"[ğŸŒ´.Groq]", content: "groq`[ğŸ“”.codex]`+`BorderChars`framWork.response" },rÃ©dige-moi un bilan de la faire en fonction du contenu 
  //  {role: "assistant",name:"[ğŸ’¬.cloudQuantum]", content:"[start]:Trainning mode}"},
  //  {role: "user",name:"[ğŸŒ´.Groq]", content: "`groq`" },
  //  {role: "assistant",name:"[ğŸ“”.codex]", content:"phase[01]:[RUN]:[dial:conversation(message/response)entre(user/assistant))]"},
  //  {
  //    "role": "system",
  //    "content": "[zira]",
  //  },
  //  {
  //    "role": "user",
  //    "content": "[content]:template.response",
  //  },
  //  {
  //    "role": "assistant",
  //    "content": "groq response",
  //  },
  //  {role: "assistant",name:"[ğŸ“”.codex]", content:"phase[01]:[END]:[brainstorming(session.timestamp)]"},
  //  {role: "system",name:"[ğŸ“”.codex]", content:"`systemContent` genetation de la documention et traduction de la documentation en lang:Fr, FranÃ§ais:stp!"},
  //  {role: "system",name:"[ğŸŒŒ.systemDream]", content:"groq"},
    ],
    model: "mixtral-8x7b-32768",
    temperature: 0.5,
    max_tokens: 2024,
    top_p: 1,
    stop: null,
    stream: false
}).then((chatCompletion)=>{
    const mdContent = chatCompletion.choices[0]?.message?.content;
    const outputFilePath = "data/CPI-law_" + new Date().toISOString().replace(/[-:TZ]/g, "") + ".md";
    fs.writeFileSync(outputFilePath, mdContent);
    console.log("Documentation du contructor gÃ©nÃ©rÃ© et enregistrÃ© dans " + outputFilePath);
});
}

main();